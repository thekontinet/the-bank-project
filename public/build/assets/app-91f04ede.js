document.addEventListener("alpine:init",()=>{window.Alpine.data("progress",t=>({pg:0,pgText:"Please wait...",show:!0,init(){this.start()},start(){setTimeout(()=>{this.pg+=Math.floor(Math.random()*15),this.pg>20&&(this.pgText="Connecting..."),this.pg>40&&(this.pgText="Validating transaction... "),this.pg>60&&(this.pgText="Processing... "),this.pg>85&&(this.pgText="Completing transaction... "),this.pg<=t&&this.start(),this.pg>=t&&(this.show=!1)},1e3)}})),window.Alpine.data("kyc",()=>({docType:"",docNumber:"",frontImg:null,backImg:null,reset(){this.docNumber="",this.docType="",this.frontImg=null,this.backImg=null},submit(){const t=new FormData;t.append("docType",this.docType),t.append("docNumber",this.docNumber),t.append("document_back_image",this.backImg),t.append("document_front_image",this.frontImg),fetch("/kyc",{method:"POST",body:t}).then(i=>{console.log("File uploaded successfully!")}).catch(i=>{console.error("Error uploading file:",i)})}})),window.Alpine.data("accountForm",()=>({sole:!1,email:"",emails:[],max:3,addEmail(t){const i=t.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/),s=this.emails.length>=this.max;!this.emails.includes(t)&&t.trim().length&&i&&!s&&this.emails.push(t),this.email=""},removeEmail(t){this.emails=this.emails.filter(i=>i!=t)}}))});
